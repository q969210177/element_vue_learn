(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d79ed58"],{"04a2":function(o,e,t){"use strict";t.r(e);var r=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"width_80 padding_top_20 comFather"},[t("div",{staticClass:"border_ccc padding_2"},[t("div",{staticClass:"text_center  margin_bottom_10"},[o._v(" "+o._s(o.form.groupBuyName)+" ")]),t("el-form",{ref:"nanGuoUserform",attrs:{model:o.form,"label-width":"auto",rules:o.nanGupRules}},[t("el-form-item",{attrs:{label:"姓名",prop:"groupBuyUserName"}},[t("el-input",{model:{value:o.form.groupBuyUserName,callback:function(e){o.$set(o.form,"groupBuyUserName",e)},expression:"form.groupBuyUserName"}})],1),t("el-form-item",{attrs:{label:"手机号码",prop:"groupBuyIdUserTel"}},[t("el-input",{model:{value:o.form.groupBuyIdUserTel,callback:function(e){o.$set(o.form,"groupBuyIdUserTel",e)},expression:"form.groupBuyIdUserTel"}})],1),t("el-form-item",{attrs:{label:"输入楼栋",prop:"groupBuyIdLouDong"}},[t("el-select",{attrs:{placeholder:"请选择楼栋区域"},model:{value:o.form.groupBuyIdLouDong,callback:function(e){o.$set(o.form,"groupBuyIdLouDong",e)},expression:"form.groupBuyIdLouDong"}},o._l(o.loudongList,(function(o,e){return t("el-option",{key:e,attrs:{value:o}})})),1)],1),t("el-form-item",{attrs:{label:"门牌号码",prop:"groupBuyHouseNumber"}},[t("el-input",{model:{value:o.form.groupBuyHouseNumber,callback:function(e){o.$set(o.form,"groupBuyHouseNumber",e)},expression:"form.groupBuyHouseNumber"}}),t("div",{staticClass:"font_size_8 font_col_ccc text_center line_heigth_10"},[o._v(" 举例:2903 ")])],1),t("el-form-item",{attrs:{label:"套餐选择",prop:"userVegMenu"}},[t("el-checkbox-group",{model:{value:o.form.checkBoxStaus,callback:function(e){o.$set(o.form,"checkBoxStaus",e)},expression:"form.checkBoxStaus"}},o._l(o.tsertList,(function(e,r){return t("div",{key:r},[t("div",[t("el-checkbox",{attrs:{label:e.groupbuyId,name:"userVegMenu"},on:{change:function(t){return o.checkRow(e,r)}}},[o._v(" "+o._s(e.name)+" ")]),t("span",[t("el-button",{attrs:{type:"text"}},[o._v("单价:"+o._s(e.pic))])],1),t("span",{staticClass:"margin_left_5"},[t("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(e){return o.lookDetails(r)}}},[o._v(" 详情 ")])],1)],1),t("div",[t("span",[t("el-input-number",{attrs:{size:"mini",min:0,disabled:o.form.numsControlsStatus[r]},on:{change:function(t){return o.vegMenuChange(t,e,r)}},model:{value:o.form.sizeNum[r],callback:function(e){o.$set(o.form.sizeNum,r,e)},expression:"form.sizeNum[k]"}})],1)])])})),0)],1),t("el-form-item",{attrs:{label:"总价"}},[o._v(o._s(o.form.groupBuytotalPrice)+"元 ")]),t("el-form-item",{staticClass:"text_center"},[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return o.nanGuoSumit("nanGuoUserform")}}},[o._v(" 提交 ")])],1)],1)],1),t("el-dialog",{ref:"comDialogImg",attrs:{title:o.commonDialog.comDialogTitle,visible:o.commonDialog.state,width:"100%",fullscreen:""},on:{"update:visible":function(e){return o.$set(o.commonDialog,"state",e)}}},[t("div",{staticClass:"padding_5"},[t("img",{attrs:{width:"100%",src:o.commonDialog.comDialogImgSrc,alt:"",srcset:""}}),t("div",{staticClass:"text_center font_size_22 margin_top_5"},[o._v(" "+o._s(o.commonDialog.comDialogPrompt)+" ")])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"success",round:""},on:{click:function(e){o.commonDialog.state=!1}}},[o._v(" 返回首页 ")])],1)])],1)},u=[],s=(t("13d5"),t("b0c0"),function(o,e){return o+e}),n={data:function(){return{form:{groupBuyName:null,groupBuyUserName:"",groupBuyIdUserTel:"",groupBuyIdLouDong:"",groupBuyHouseNumber:"",groupBuytotalPrice:0,userVegMenu:[],checkBoxStaus:[],numsControlsStatus:[],sizeNum:[]},tsertList:null,commonDialog:{state:!1,comDialogImgSrc:null,comDialogTitle:null,comDialogPrompt:null},comDialogImgSrc:null,nanGupRules:{groupBuyUserName:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}],groupBuyIdUserTel:[{required:!0,message:"请填写手机号",trigger:"blur"},{min:11,max:11,message:"手机号长度不对",trigger:"blur"},{pattern:/^1(3|4|5|7|8|9)\d{9}$/,message:"暂时只支持大陆手机号",trigger:"blur"}],groupBuyIdLouDong:[{required:!0,message:"请选择楼栋",trigger:"change"}],groupBuyHouseNumber:[{required:!0,message:"请填写门牌号",trigger:"change"}],userVegMenu:[{type:"array",required:!0,message:"请至少选择一个套餐",trigger:"change"}]},loudongList:["1-1栋","1-2栋","2栋","3栋","4栋","5栋","6-1栋","6-2栋","7栋","8栋","9栋","10-1栋","10-2栋","11栋","12栋","13栋","14栋","15栋","16-1栋","16-2栋","17栋","18栋","19栋","20栋","21栋","22栋","23栋","24栋","25-1栋","25-2栋","26栋","27栋","28栋"],tolPicArr:[]}},beforeMount:function(){var o=this;this.$get("/nanGuo/nanGuoUserUpdata.php",{nanGuoStatus:"user"}).then((function(e){for(var t=0;t<e.data.menuUserData.length;t++)o.form.numsControlsStatus.push(!0);o.form.groupBuyName=e.data.tuanGouName,o.tsertList=e.data.menuUserData}))},methods:{handSelect:function(o){this.form.louDong=o.value},lookDetails:function(o){this.commonDialog.state=!0,this.commonDialog.comDialogImgSrc=this.tsertList[o].imgSrc,this.commonDialog.comDialogTitle=this.tsertList[o].name},nanGuoSumit:function(o){var e=this;this.$refs[o].validate((function(o){if(!o)return e.$alertMessage({text:"表单验证未通过",type:"error",show:!0,duration:5e3}),!1;e.$post("nanGuo/nanGuoUserUpdata.php",{userData:{groupBuyName:e.form.groupBuyName,groupBuyUserName:e.form.groupBuyUserName,groupBuyIdUserTel:e.form.groupBuyIdUserTel,groupBuyIdLouDong:e.form.groupBuyIdLouDong,groupBuyHouseNumber:e.form.groupBuyHouseNumber,groupBuytotalPrice:e.form.groupBuytotalPrice,userVegMenu:e.form.userVegMenu}}).then((function(o){0!==o.data.code?(e.commonDialog.state=!0,e.commonDialog.comDialogImgSrc=t("b948"),e.commonDialog.comDialogTitle="提交失败",e.commonDialog.comDialogPrompt=o.data.msg):(e.commonDialog.state=!0,e.commonDialog.comDialogImgSrc=t("ba79"),e.commonDialog.comDialogTitle="提交成功",e.commonDialog.comDialogPrompt=o.data.msg)}))}))},checkRow:function(o,e){this.form.numsControlsStatus[e]=!this.form.numsControlsStatus[e],!0===this.form.numsControlsStatus[e]?(this.form.sizeNum[e]=0,this.tolPicArr[e]=0*o.pic,this.buyTotaPic(this.tolPicArr)):(this.form.sizeNum[e]=1,this.form.userVegMenu[e]={id:e,num:1},this.tolPicArr[e]=1*o.pic,this.buyTotaPic(this.tolPicArr))},vegMenuChange:function(o,e,t){this.form.userVegMenu[t]={id:t,num:o},this.tolPicArr[t]=o*e.pic,this.buyTotaPic(this.tolPicArr)},buyTotaPic:function(o){this.form.groupBuytotalPrice=o.reduce(s)}}},a=n,i=(t("2dfd"),t("2877")),l=Object(i["a"])(a,r,u,!1,null,"9e574c2c",null);e["default"]=l.exports},"13d5":function(o,e,t){"use strict";var r=t("23e7"),u=t("d58f").left,s=t("b301");r({target:"Array",proto:!0,forced:s("reduce")},{reduce:function(o){return u(this,o,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1dc4":function(o,e,t){},"2dfd":function(o,e,t){"use strict";var r=t("1dc4"),u=t.n(r);u.a},b948:function(o,e,t){o.exports=t.p+"img/error.228a4378.png"},ba79:function(o,e,t){o.exports=t.p+"img/sucess.d7970342.png"},d58f:function(o,e,t){var r=t("1c0b"),u=t("7b0b"),s=t("44ad"),n=t("50c4"),a=function(o){return function(e,t,a,i){r(t);var l=u(e),m=s(l),c=n(l.length),g=o?c-1:0,p=o?-1:1;if(a<2)while(1){if(g in m){i=m[g],g+=p;break}if(g+=p,o?g<0:c<=g)throw TypeError("Reduce of empty array with no initial value")}for(;o?g>=0:c>g;g+=p)g in m&&(i=t(i,m[g],g,l));return i}};o.exports={left:a(!1),right:a(!0)}}}]);
//# sourceMappingURL=chunk-5d79ed58.f1392bd7.js.map